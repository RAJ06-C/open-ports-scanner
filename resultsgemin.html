<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Port Scanner - Scan Results</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Lucide icons for visual appeal -->
    <script src="https://unpkg.com/lucide@latest"></script> 
</head>
<body class="light-theme">
    <header class="navbar">
        <nav>
            <a href="index.html" class="nav-item">Home</a>
            <a href="about.html" class="nav-item">About</a>
            <a href="contact.html" class="nav-item">Contact</a>
        </nav>
        <button id="theme-toggle" class="theme-toggle-button">Toggle Theme</button>
    </header>

    <main class="container">
        <!-- Target Information Card (Matches the sketch: Target IP) -->
        <div class="card target-info-card">
            <h2 class="target-title">Target</h2>
            <div class="target-ip-display">
                <i data-lucide="monitor-dot" class="ip-icon"></i>
                <span id="target-ip">N/A</span>
            </div>
        </div>

        <!-- Scan Summary Section (Matches the sketch: 4 Boxes) -->
        <h2 class="section-title">Summary</h2>
        <div class="summary-grid">
            <!-- 1. Open Ports -->
            <div class="summary-card">
                <div class="card-header">Open Ports</div>
                <div class="card-body large-number" id="open-ports-count">0</div>
            </div>

            <!-- 2. Duration -->
            <div class="summary-card">
                <div class="card-header">Duration</div>
                <div class="card-body large-number" id="scan-duration">0.00s</div>
            </div>

            <!-- 3. Ports Scanned -->
            <div class="summary-card">
                <div class="card-header">Ports</div>
                <div class="card-body large-text" id="ports-scanned">Custom</div>
            </div>

            <!-- 4. Protocol -->
            <div class="summary-card">
                <div class="card-header">Protocol</div>
                <div class="card-body large-text" id="protocol-used">TCP</div>
            </div>
        </div>
        
        <!-- Detailed Port Results Table -->
        <h2 class="section-title">Detailed Open Ports</h2>
        <div class="card detail-table-card">
            <table id="ports-table" class="scan-table">
                <thead>
                    <tr>
                        <th>Port</th>
                        <th>Protocol</th>
                        <th>State</th>
                        <th>Service</th>
                        <th>Version</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Port rows will be injected here by JavaScript -->
                </tbody>
            </table>
            <!-- Message if no ports found -->
            <p id="no-ports-message" class="error-message" style="display: none; text-align: center; margin-top: 1rem; color: var(--text-color);">No open ports found for the selected options.</p>
        </div>

        <!-- Re-Scan Button -->
        <div class="rescan-section">
            <button id="rescan-button" class="primary-button">
                <i data-lucide="rotate-ccw"></i> <a href="scanning.html">Re-Scan Target</a>
            </button>
        </div>
    </main>

    <script src="js/script.js"></script>
    <script src="js/script1.js"></script>
    <script src="js/scriptgemin.js"></script>
    
    <script src="js/script.js"></script>
    <script>
        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            loadResultsPage(); // <-- Called before DOMContentLoaded completes
        });
    </script>
</body>
</html>
