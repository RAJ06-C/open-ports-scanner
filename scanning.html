<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Port Scanner - Start Scan</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body class="light-theme">
    <header class="navbar">
        <nav>
            <a href="index.html" class="nav-item">Home</a>
            <a href="about.html" class="nav-item">About</a>
            <a href="contact.html" class="nav-item">Contact</a>
        </nav>
        <button id="theme-toggle" class="theme-toggle-button">Toggle Theme</button>
    </header>

    <main class="container">
        <form id="scan-form" class="scan-form-container card">
            <h2 class="form-title card-header">Start Network Scan</h2>
            <div class="card-body">

                <!-- Target Input Section -->
                <div class="form-group">
                    <label for="target-ip">Target (IP or Host):</label>
                    <input type="text" id="target-ip" name="target_ip" placeholder="Enter IP or host (e.g., scanme.nmap.org)" required>
                    <div id="target-ip-error" class="error-message"></div>
                </div>

                <!-- Protocol Selection Section -->
                <div class="form-group protocol-group">
                    <label>Protocol:</label>
                    <div class="radio-options">
                        <input type="radio" id="protocol-tcp" name="protocol" value="TCP" checked>
                        <label for="protocol-tcp">TCP</label>

                        <input type="radio" id="protocol-udp" name="protocol" value="UDP">
                        <label for="protocol-udp">UDP</label>
                    </div>
                    <div id="protocol-error" class="error-message"></div>
                </div>

                <!-- Port Selection Options -->
                <div class="form-group port-selection-group">
                    <label for="port-mode">Port Selection Mode:</label>
                    <select id="port-mode" name="port_mode" required>
                        <option value="top100" selected>Top 100 Ports (Default)</option>
                        <option value="top10">Top 10 Ports</option>
                        <option value="top1000">Top 1000 Ports</option>
                        <option value="custom">Custom Port List</option>
                    </select>
                </div>

                <!-- Custom Port List Input (Initially Hidden) -->
                <div class="form-group" id="custom-ports-group" style="display: none;">
                    <label for="custom-ports">List of Custom Ports (Comma-separated or Range):</label>
                    <input type="text" id="custom-ports" name="custom_ports" placeholder="e.g., 20, 22, 80, 443, 8080-8090">
                    <div id="custom-ports-error" class="error-message"></div>
                </div>

                <!-- Terms and Service Agreement -->
                <div class="form-group agreement-group">
                    <input type="checkbox" id="terms-agree" name="terms_agree" value="true">
                    <label for="terms-agree">
                        I am authorized to scan this target and I agree with the 
                        <a href="terms.html" target="_blank" class="terms-link">Terms of Service</a>.
                    </label>
                    <div id="terms-error" class="error-message"></div>
                </div>

            </div>

            <div class="start-scanning-section form-footer">
                <button type="submit" id="start-scan-btn" class="primary-button">Start Scan</button>
            </div>
        </form>

        <!-- Custom Modal for Terms of Service (No actual redirection yet) -->
        <div id="terms-modal" class="modal-overlay">
            <div class="modal-content">
                <h3>Terms and Service Agreement</h3>
                <p><strong>Authorization:</strong> You confirm that you have explicit, written permission from the owner to perform network scanning on the specified target. Scanning unauthorized networks is strictly prohibited.</p>
                <p><strong>Disclaimer:</strong> This tool is for educational and authorized diagnostic use only. Misuse of this tool, including unauthorized access or malicious activity, is the user's sole responsibility.</p>
                <button class="close-modal-btn">Close</button>
            </div>
        </div>

    </main>

    <script src="js/script.js"></script>
    <script src="js/script1.js"></script>
    <script src="js/scriptgemin.js"></script>
    <script>
        // Placeholder for the next page redirection
        function redirectToResults(scanData) {
            // For now, we will just log the data and show an alert.
            // In the next step, we will use this function to redirect to results.html
            console.log("Scan Data Collected:", scanData);
            alert("Validation successful! Submitting data to Python backend for scanning... (Next page: Results)");

            // Simulating redirection to the results page (to be built next)
            window.location.href = 'results.html'; 
        }
    </script>
</body>
</html>
